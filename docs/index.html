<!DOCTYPE html>
<html lang="en">

<!-- ---------------------------------------------------------------------------------------------------- -->
<!-- Przy aktualizacji dokumentacji konieczne ręczne wklejenie zawartości swagger.json do poniższej sekcji "spec"
(nie możliwe wklejenie url-a do jsona z uwagi na błędy CORS w GitHub Pages
(w przypadku hostowania pliku swagger.json na GitHub Pages jest to dość częsty problem.))

W tym celu konieczne jest uruchomienie aplikacji poleceniem dotnet run,
 a następnie pobranie na urządzenie pliku swagger.json z uruchomionego swaggerUI,
 oraz wklejenie go poniżej. -->
<!-- ---------------------------------------------------------------------------------------------------- -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swagger Documentation</title>
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.17.14/swagger-ui.css">
</head>

<body>
    <div id="swagger-ui"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.17.14/swagger-ui-bundle.js"></script>
    <script>
        SwaggerUIBundle({
            spec: {
                "openapi": "3.0.1",
                "info": {
                    "title": "api",
                    "version": "1.0"
                },
                "paths": {
                    "/api/account/me": {
                        "get": {
                            "tags": [
                                "Account"
                            ],
                            "summary": "Retrieves the profile data of the currently logged-in user.",
                            "responses": {
                                "200": {
                                    "description": "(OK)           Returned when the user's profile data has been successfully retrieved.",
                                    "content": {
                                        "text/plain": {
                                            "schema": {
                                                "$ref": "#/components/schemas/GetUserDto"
                                            }
                                        },
                                        "application/json": {
                                            "schema": {
                                                "$ref": "#/components/schemas/GetUserDto"
                                            }
                                        },
                                        "text/json": {
                                            "schema": {
                                                "$ref": "#/components/schemas/GetUserDto"
                                            }
                                        }
                                    }
                                },
                                "401": {
                                    "description": "(Unauthorized) Returned when the user is not authenticated.",
                                },
                                "404": {
                                    "description": "(NotFound)     Returned when the user with the given ID was not found.",
                                }
                            }
                        }
                    },
                    "/api/account/register": {
                        "post": {
                            "tags": [
                                "Account"
                            ],
                            "summary": "Registers a new user in the system.",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/RegisterUserDto"
                                        }
                                    },
                                    "text/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/RegisterUserDto"
                                        }
                                    },
                                    "application/*+json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/RegisterUserDto"
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "201": {
                                    "description": "(Created)      Returned when the user has been successfully registered."
                                },
                                "400": {
                                    "description": "(BadRequest)   Returned when: the email is not a valid email address, the password is shorter than 4 characters or does not match the ConfirmPassword, or the email is already in use by another account.",
                                }
                            }
                        }
                    },
                    "/api/account/login": {
                        "post": {
                            "tags": [
                                "Account"
                            ],
                            "summary": "Authenticates the user and returns a JWT token upon successful login.",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/LoginDto"
                                        }
                                    },
                                    "text/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/LoginDto"
                                        }
                                    },
                                    "application/*+json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/LoginDto"
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "200": {
                                    "description": "(OK)           Returned when the user has been successfully authenticated and a JWT token is generated."
                                },
                                "400": {
                                    "description": "(BadRequest)   Returned when the input data is invalid, such as missing email, invalid email format, or missing password.",
                                },
                                "401": {
                                    "description": "(Unauthorized) Returned when the email or password is incorrect.",
                                }
                            }
                        }
                    },
                    "/api/account/name": {
                        "patch": {
                            "tags": [
                                "Account"
                            ],
                            "summary": "Updates the first name and last name of the currently logged-in user.",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdateNameDto"
                                        }
                                    },
                                    "text/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdateNameDto"
                                        }
                                    },
                                    "application/*+json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdateNameDto"
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "204": {
                                    "description": "(NoContent)    Returned when the user's name and/or surname have been successfully updated."
                                },
                                "401": {
                                    "description": "(Unauthorized) Returned when the user is not authenticated.",
                                },
                                "404": {
                                    "description": "(NotFound)     Returned when a user with the given ID was not found.",
                                }
                            }
                        }
                    },
                    "/api/account/email": {
                        "patch": {
                            "tags": [
                                "Account"
                            ],
                            "summary": "Changes the email address of the logged-in user.",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdateEmailDto"
                                        }
                                    },
                                    "text/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdateEmailDto"
                                        }
                                    },
                                    "application/*+json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdateEmailDto"
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "204": {
                                    "description": "(NoContent)    Returned when the email has been successfully updated."
                                },
                                "401": {
                                    "description": "(Unauthorized) Returned when the user is not authenticated.",
                                },
                                "400": {
                                    "description": "(BadRequest)   Returned when the input data is invalid, such as missing email, incorrect format, or if the email is already in use.",
                                },
                                "404": {
                                    "description": "(NotFound)     Returned when a user with the given ID was not found.",
                                }
                            }
                        }
                    },
                    "/api/account/password": {
                        "patch": {
                            "tags": [
                                "Account"
                            ],
                            "summary": "Changes the password of the currently logged-in user.",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdatePasswordDto"
                                        }
                                    },
                                    "text/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdatePasswordDto"
                                        }
                                    },
                                    "application/*+json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdatePasswordDto"
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "204": {
                                    "description": "(NoContent) Returned when the user's password has been successfully updated."
                                },
                                "400": {
                                    "description": "(BadRequest) Returned when the Password is empty, less than 4 characters long, matches the PreviousPassword, or when ConfirmPassword is not provided or does not match the new Password.",
                                },
                                "401": {
                                    "description": "(Unauthorized) Returned when the user is not authenticated.",
                                },
                                "403": {
                                    "description": "(Forbidden) Returned when the provided previous password is incorrect.",
                                },
                                "404": {
                                    "description": "(NotFound) Returned when a user with the given ID was not found.",
                                }
                            }
                        }
                    },
                    "/api/account/photo": {
                        "patch": {
                            "tags": [
                                "Account"
                            ],
                            "summary": "Updates the profile photo of the currently logged-in user.",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdatePhotoDto"
                                        }
                                    },
                                    "text/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdatePhotoDto"
                                        }
                                    },
                                    "application/*+json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/UpdatePhotoDto"
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "204": {
                                    "description": "(NoContent) Returned when the user's profile photo has been successfully updated."
                                },
                                "401": {
                                    "description": "(Unauthorized) Returned when the user is not authenticated.",
                                },
                                "404": {
                                    "description": "(NotFound) Returned when a user with the given ID was not found.",
                                }
                            }
                        }
                    },
                    "/api/automation": {
                        "get": {
                            "tags": [
                                "Automation"
                            ],
                            "responses": {
                                "200": {
                                    "description": "OK",
                                    "content": {
                                        "text/plain": {
                                            "schema": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/AutomationDetailDto"
                                                }
                                            }
                                        },
                                        "application/json": {
                                            "schema": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/AutomationDetailDto"
                                                }
                                            }
                                        },
                                        "text/json": {
                                            "schema": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/AutomationDetailDto"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "/api/automation/{id}": {
                        "get": {
                            "tags": [
                                "Automation"
                            ],
                            "parameters": [
                                {
                                    "name": "id",
                                    "in": "path",
                                    "required": true,
                                    "schema": {
                                        "type": "integer",
                                        "format": "int32"
                                    }
                                }
                            ],
                            "responses": {
                                "200": {
                                    "description": "OK",
                                    "content": {
                                        "text/plain": {
                                            "schema": {
                                                "$ref": "#/components/schemas/AutomationDetailDto"
                                            }
                                        },
                                        "application/json": {
                                            "schema": {
                                                "$ref": "#/components/schemas/AutomationDetailDto"
                                            }
                                        },
                                        "text/json": {
                                            "schema": {
                                                "$ref": "#/components/schemas/AutomationDetailDto"
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "put": {
                            "tags": [
                                "Automation"
                            ],
                            "parameters": [
                                {
                                    "name": "id",
                                    "in": "path",
                                    "required": true,
                                    "schema": {
                                        "type": "integer",
                                        "format": "int32"
                                    }
                                }
                            ],
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/AutomationUpdateDto"
                                        }
                                    },
                                    "text/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/AutomationUpdateDto"
                                        }
                                    },
                                    "application/*+json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/AutomationUpdateDto"
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "200": {
                                    "description": "OK"
                                }
                            }
                        }
                    },
                    "/api/automation/{Automationid}/devices": {
                        "post": {
                            "tags": [
                                "Automation"
                            ],
                            "parameters": [
                                {
                                    "name": "Automationid",
                                    "in": "path",
                                    "required": true,
                                    "schema": {
                                        "type": "integer",
                                        "format": "int32"
                                    }
                                }
                            ],
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/AddDevicesToAutomationDto"
                                        }
                                    },
                                    "text/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/AddDevicesToAutomationDto"
                                        }
                                    },
                                    "application/*+json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/AddDevicesToAutomationDto"
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "200": {
                                    "description": "OK"
                                }
                            }
                        },
                        "delete": {
                            "tags": [
                                "Automation"
                            ],
                            "parameters": [
                                {
                                    "name": "Automationid",
                                    "in": "path",
                                    "required": true,
                                    "schema": {
                                        "type": "integer",
                                        "format": "int32"
                                    }
                                }
                            ],
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/RemoveDevicesFromAutomationDto"
                                        }
                                    },
                                    "text/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/RemoveDevicesFromAutomationDto"
                                        }
                                    },
                                    "application/*+json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/RemoveDevicesFromAutomationDto"
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "200": {
                                    "description": "OK"
                                }
                            }
                        }
                    },
                    "/api/device": {
                        "get": {
                            "tags": [
                                "Device"
                            ],
                            "responses": {
                                "200": {
                                    "description": "OK",
                                    "content": {
                                        "text/plain": {
                                            "schema": {
                                                "type": "array",
                                                "items": {}
                                            }
                                        },
                                        "application/json": {
                                            "schema": {
                                                "type": "array",
                                                "items": {}
                                            }
                                        },
                                        "text/json": {
                                            "schema": {
                                                "type": "array",
                                                "items": {}
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "/api/device/name": {
                        "get": {
                            "tags": [
                                "Device"
                            ],
                            "responses": {
                                "200": {
                                    "description": "OK",
                                    "content": {
                                        "text/plain": {
                                            "schema": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/DeviceNameDto"
                                                }
                                            }
                                        },
                                        "application/json": {
                                            "schema": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/DeviceNameDto"
                                                }
                                            }
                                        },
                                        "text/json": {
                                            "schema": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/DeviceNameDto"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "/api/device/{id}/ison": {
                        "patch": {
                            "tags": [
                                "Device"
                            ],
                            "parameters": [
                                {
                                    "name": "id",
                                    "in": "path",
                                    "required": true,
                                    "schema": {
                                        "type": "integer",
                                        "format": "int32"
                                    }
                                }
                            ],
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "boolean"
                                        }
                                    },
                                    "text/json": {
                                        "schema": {
                                            "type": "boolean"
                                        }
                                    },
                                    "application/*+json": {
                                        "schema": {
                                            "type": "boolean"
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "200": {
                                    "description": "OK"
                                }
                            }
                        }
                    }
                },
                "components": {
                    "schemas": {
                        "AddDevicesToAutomationDto": {
                            "type": "object",
                            "properties": {
                                "deviceToTurnOnIds": {
                                    "type": "array",
                                    "items": {
                                        "type": "integer",
                                        "format": "int32"
                                    },
                                    "nullable": true
                                },
                                "deviceToTurnOffIds": {
                                    "type": "array",
                                    "items": {
                                        "type": "integer",
                                        "format": "int32"
                                    },
                                    "nullable": true
                                }
                            },
                            "additionalProperties": false
                        },
                        "AutomationDetailDto": {
                            "required": [
                                "image",
                                "name",
                                "namePL",
                                "triggerDays",
                                "triggerTime"
                            ],
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "integer",
                                    "format": "int32"
                                },
                                "name": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "namePL": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "image": {
                                    "type": "string",
                                    "format": "byte",
                                    "nullable": true
                                },
                                "triggerDays": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/DayOfWeek"
                                    },
                                    "nullable": true
                                },
                                "triggerTime": {
                                    "type": "string",
                                    "format": "time"
                                },
                                "isOn": {
                                    "type": "boolean"
                                },
                                "createdByEmail": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "devicesToTurnOn": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/DeviceNameDto"
                                    },
                                    "nullable": true
                                },
                                "devicesToTurnOff": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/DeviceNameDto"
                                    },
                                    "nullable": true
                                }
                            },
                            "additionalProperties": false
                        },
                        "AutomationUpdateDto": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "namePL": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "triggerDays": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/DayOfWeek"
                                    },
                                    "nullable": true
                                },
                                "triggerTime": {
                                    "type": "string",
                                    "format": "time",
                                    "nullable": true
                                },
                                "isOn": {
                                    "type": "boolean",
                                    "nullable": true
                                }
                            },
                            "additionalProperties": false
                        },
                        "DayOfWeek": {
                            "enum": [
                                "Sunday",
                                "Monday",
                                "Tuesday",
                                "Wednesday",
                                "Thursday",
                                "Friday",
                                "Saturday"
                            ],
                            "type": "string"
                        },
                        "DeviceNameDto": {
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "integer",
                                    "format": "int32"
                                },
                                "name": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "namePL": {
                                    "type": "string",
                                    "nullable": true
                                }
                            },
                            "additionalProperties": false
                        },
                        "GetUserDto": {
                            "type": "object",
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "firstName": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "lastName": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "photo": {
                                    "type": "string",
                                    "format": "byte",
                                    "nullable": true
                                }
                            },
                            "additionalProperties": false
                        },
                        "LoginDto": {
                            "type": "object",
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "password": {
                                    "type": "string",
                                    "nullable": true
                                }
                            },
                            "additionalProperties": false
                        },
                        "ProblemDetails": {
                            "type": "object",
                            "properties": {
                                "type": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "title": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "status": {
                                    "type": "integer",
                                    "format": "int32",
                                    "nullable": true
                                },
                                "detail": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "instance": {
                                    "type": "string",
                                    "nullable": true
                                }
                            },
                            "additionalProperties": {}
                        },
                        "RegisterUserDto": {
                            "type": "object",
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "firstName": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "password": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "confirmPassword": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "roleId": {
                                    "type": "integer",
                                    "format": "int32"
                                }
                            },
                            "additionalProperties": false
                        },
                        "RemoveDevicesFromAutomationDto": {
                            "type": "object",
                            "properties": {
                                "deviceToTurnOnIds": {
                                    "type": "array",
                                    "items": {
                                        "type": "integer",
                                        "format": "int32"
                                    },
                                    "nullable": true
                                },
                                "deviceToTurnOffIds": {
                                    "type": "array",
                                    "items": {
                                        "type": "integer",
                                        "format": "int32"
                                    },
                                    "nullable": true
                                }
                            },
                            "additionalProperties": false
                        },
                        "UpdateEmailDto": {
                            "required": [
                                "email"
                            ],
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "integer",
                                    "format": "int32"
                                },
                                "email": {
                                    "type": "string",
                                    "nullable": true
                                }
                            },
                            "additionalProperties": false
                        },
                        "UpdateNameDto": {
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "integer",
                                    "format": "int32"
                                },
                                "firstName": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "lastName": {
                                    "type": "string",
                                    "nullable": true
                                }
                            },
                            "additionalProperties": false
                        },
                        "UpdatePasswordDto": {
                            "required": [
                                "confirmPassword",
                                "password",
                                "previousPassword"
                            ],
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "integer",
                                    "format": "int32"
                                },
                                "previousPassword": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "password": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "confirmPassword": {
                                    "type": "string",
                                    "nullable": true
                                }
                            },
                            "additionalProperties": false
                        },
                        "UpdatePhotoDto": {
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "integer",
                                    "format": "int32"
                                },
                                "photo": {
                                    "type": "string",
                                    "format": "byte",
                                    "nullable": true
                                }
                            },
                            "additionalProperties": false
                        }
                    }
                }
            },
            dom_id: '#swagger-ui',
            supportedSubmitMethods: [] // Wyłącza przyciski do wykonania operacji
        });
    </script>
</body>

</html>
